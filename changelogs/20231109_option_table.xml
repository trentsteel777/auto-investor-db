<?xml version="1.0" encoding="UTF-8"?>  
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xmlns:pro="http://www.liquibase.org/xml/ns/pro"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd
        http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-latest.xsd">

	<changeSet id="3" author="trentsteel777">
		<createTable tableName="OPTION_TYPES">
			<column name="ID" type="SERIAL">
				<constraints primaryKey="true"/>
			</column>
			<column name="NAME" type="VARCHAR(255)">
				<constraints nullable="false"/>
			</column>
		</createTable>
		<rollback>
			<dropTable tableName="OPTION_TYPES"/>
		</rollback>
	</changeSet>
	
	<changeSet id="4" author="trentsteel777">
		<sql dbms="postgresql" splitStatements="false">
			ALTER SEQUENCE option_types_id_seq MINVALUE 0 START 0 RESTART WITH 0;
		</sql>
		<rollback>
			<sql>
				ALTER SEQUENCE option_types_id_seq MINVALUE 1 START 1 RESTART WITH 1;
			</sql>
		</rollback>
	</changeSet>
	
	<changeSet id="5" author="trentsteel777">
		<insert tableName="OPTION_TYPES">
			<column name="NAME" value="CALL"/>
		</insert>
		<insert tableName="OPTION_TYPES">
			<column name="NAME" value="PUT"/>
		</insert>
		<rollback>
			<delete tableName="OPTION_TYPES">
				<where> NAME='CALL' OR NAME='PUT' </where>
			</delete>
		</rollback>
	</changeSet>
	
	<changeSet id="6" author="trentsteel777">
		<createTable tableName="OPTIONS">
			<column name="ID" type="BIGSERIAL">
				<constraints primaryKey="true"/>
			</column>
			<column name="SYMBOL" type="VARCHAR(255)">
				<constraints nullable="false"/>
			</column>
			<column name="OPTION_TYPE_ID" type="INT">
			    <constraints  foreignKeyName="OPTIONS_OPTION_TYPE_ID_FK" referencedTableName="OPTION_TYPES" referencedColumnNames="ID" nullable="false"/> 
			</column>
			<column name="CONTRACT_SYMBOL" type="VARCHAR(255)">
				<constraints nullable="false"/>
			</column>
			<column name="STRIKE" type="NUMERIC(15,4)">
				<constraints nullable="false"/>
			</column>
			<column name="CURRENCY" type="VARCHAR(255)">
				<constraints nullable="false"/>
			</column>
			<column name="LAST_PRICE" type="NUMERIC(15,4)">
				<constraints nullable="false"/>
			</column>
			<column name="CHANGE" type="NUMERIC(15,4)">
				<constraints nullable="false"/>
			</column>
			<column name="PERCENT_CHANGE" type="NUMERIC(15,4)">
				<constraints nullable="false"/>
			</column>
			<column name="VOLUME" type="INT">
				<constraints nullable="false"/>
			</column>
			<column name="OPEN_INTEREST" type="INT">
				<constraints nullable="false"/>
			</column>
			<column name="BID" type="NUMERIC(15,4)">
				<constraints nullable="false"/>
			</column>
			<column name="ASK" type="NUMERIC(15,4)">
				<constraints nullable="false"/>
			</column>
			<column name="CONTRACT_SIZE" type="VARCHAR(255)">
				<constraints nullable="false"/>
			</column>
			<column name="EXPIRATION" type="DATE">
				<constraints nullable="false"/>
			</column>
			<column name="LAST_TRADE_DATE" type="TIMESTAMP">
				<constraints nullable="false"/>
			</column>
			<column name="IMPLIED_VOLATILITY" type="NUMERIC(15,4)">
				<constraints nullable="false"/>
			</column>
			<column name="IN_THE_MONEY" type="BOOLEAN">
				<constraints nullable="false"/>
			</column>
			<column name="CREATED_DATE" type="DATE">
				<constraints nullable="false"/>
			</column>
		</createTable>
		<rollback>
			<dropTable tableName="OPTIONS"/>
		</rollback>
	</changeSet>

</databaseChangeLog>